<div>
    <div class="veladura" *ngIf="loadingPage"><div class="text-center texto"><i class="fas fa-spinner fa-spin"></i> Cargando tareas...</div></div>
    <h3 class="text-center mt-4 mb-4">Mis Tareas</h3>    
    <div *ngIf="noLogin" class="text-center"><p>Debes estar logado para ver tus tareas.</p> Puedes logarte desde <a [routerLink]="['/login']">aquí</a> o registrarte desde <a [routerLink]="['/register']">aquí</a> </div>
    <div *ngIf="tasks && tasks.length">
        <table class="table table-striped">
            <thead>
                <tr>
                    <th scope="col">#</th>
                    <th scope="col">Estado</th>
                    <th scope="col">Titulo</th>
                    <th scope="col">Descripcion</th>
                    <th scope="col"></th>
                </tr>
            </thead>
            <tbody>
                <tr *ngFor="let task of tasks">
                    <th scope="row">{{task.id}}</th>
                    <td class="info-status" [ngClass]="{'status-todo':task.status=='todo','status-new':task.status=='new','status-finished':task.status=='finished'}">{{ESTADOS[task.status]}}</td>
                    <td><a [routerLink]="['/task', task.id]">{{task.title}}</a></td>
                    <td>{{task.description}}</td>
                    <td>
                        <a href="javascript:void(0)" [routerLink]="['/task-edit', task.id]" class="btn btn-outline-primary"><i class="fas fa-edit"></i></a>&nbsp;
                        <a href="javascript:void(0)" (click)="deleteTask(task.id)"  class="btn btn-outline-danger"><i class="fas fa-trash"></i></a>
                    </td>
                </tr>
            </tbody>
        </table>
        <nav aria-label="Page navigation" *ngIf="pages">
            <ul class="pagination">
              <li class="page-item"><a class="page-link btn-secondary" (click)="loadPage(pagePrev)" [routerLink]="['/index',pagePrev]">&laquo;</a></li>
              <li class="page-item" *ngFor="let page of pages"><a class="page-link btn-secondary" (click)="loadPage((page+1))" [routerLink]="['/index',(page+1)]">{{page+1}}</a></li>
              <li class="page-item"><a class="page-link btn-secondary" (click)="loadPage(pageNext)"  [routerLink]="['/index',pageNext]">&raquo;</a></li>
              <li *ngIf="internalLoading"><i class="fas fa-spinner fa-spin navigation-loader"></i></li> 
            </ul>
        </nav>
        
    </div>
</div>